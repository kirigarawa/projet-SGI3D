<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SGI3D - Nos Imprimantes 3D</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #1a1a1a 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 30px;
            transition: color 0.3s;
        }

        .back-button:hover {
            color: #ffffff;
        }

        .back-button svg {
            width: 20px;
            height: 20px;
        }

        h1 {
            font-size: 56px;
            font-weight: 900;
            color: #ffffff;
            letter-spacing: 6px;
            text-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 18px;
            color: rgba(255,255,255,0.9);
            letter-spacing: 2px;
            font-weight: 300;
            margin-bottom: 40px;
        }

        .tabs-container {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
        }

        .tabs {
            display: inline-flex;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 8px;
            gap: 8px;
            backdrop-filter: blur(10px);
        }

        .tab-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 18px 35px;
            background: transparent;
            border: none;
            border-radius: 10px;
            color: rgba(255,255,255,0.6);
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            text-align: left;
        }

        .tab-content {
            display: flex;
            flex-direction: column;
            gap: 6px;
            width: 100%;
        }

        .tab-header {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 16px;
            font-weight: 700;
        }

        .tab-badge {
            font-size: 12px;
            font-weight: 500;
            opacity: 0.7;
            letter-spacing: 0.3px;
        }

        .tab-btn svg {
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .tab-btn:hover {
            color: rgba(255,255,255,0.9);
            background: rgba(255,255,255,0.05);
        }

        .tab-btn.active {
            background: rgba(255,255,255,0.95);
            color: #2a2a2a;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        .tab-btn.active svg {
            stroke: #2a2a2a;
        }

        .tab-btn.active .tab-badge {
            opacity: 0.6;
        }

        .printer-content {
            max-width: 1000px;
            margin: 0 auto;
        }

        .printer-panel {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .printer-panel.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .printers-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }

        .printer-card {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            transition: transform 0.3s;
        }

        .printer-card:hover {
            transform: translateY(-5px);
        }

        .printer-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .printer-header h2 {
            font-size: 32px;
            font-weight: 800;
            background: linear-gradient(135deg, #2a2a2a 0%, #4a4a4a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .printer-header .model {
            font-size: 16px;
            color: #666;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .canvas-container {
            width: 100%;
            height: 400px;
            min-height: 400px;
            background: linear-gradient(135deg, #3a3a3a 0%, #2a2a2a 100%);
            border-radius: 15px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.3);
        }

        .canvas-container canvas {
            display: block;
            width: 100% !important;
            height: 100% !important;
            cursor: grab;
        }

        .canvas-container canvas:active {
            cursor: grabbing;
        }

        .canvas-hint {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255,255,255,0.6);
            font-size: 12px;
            font-weight: 500;
            text-align: center;
            pointer-events: none;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }

        .specs {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .spec-item {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #4a4a4a;
        }

        .spec-item .label {
            font-size: 13px;
            font-weight: 600;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .spec-item .value {
            font-size: 18px;
            font-weight: 700;
            color: #2a2a2a;
        }

        .features {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 12px;
        }

        .features h3 {
            font-size: 18px;
            font-weight: 700;
            color: #2a2a2a;
            margin-bottom: 15px;
        }

        .features ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .features li {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            color: #555;
        }

        .features li::before {
            content: '‚úì';
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #4a4a4a 0%, #2a2a2a 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 12px;
            flex-shrink: 0;
        }

        @media (max-width: 1024px) {
            .printers-grid {
                grid-template-columns: 1fr;
            }

            .tabs {
                flex-direction: column;
                width: 100%;
                max-width: 400px;
            }

            .tab-btn {
                justify-content: center;
                width: 100%;
            }
        }

        @media (max-width: 640px) {
            h1 {
                font-size: 36px;
                letter-spacing: 3px;
            }

            .subtitle {
                font-size: 14px;
            }

            .tabs-container {
                padding: 0 10px;
            }

            .tabs {
                width: 100%;
            }

            .tab-btn {
                padding: 12px 20px;
                font-size: 14px;
            }

            .tab-header {
                font-size: 14px;
            }

            .tab-badge {
                font-size: 11px;
            }

            .tab-btn svg {
                width: 20px;
                height: 20px;
            }

            .printer-card {
                padding: 25px;
            }

            .specs {
                grid-template-columns: 1fr;
            }

            .features ul {
                grid-template-columns: 1fr;
            }

            .canvas-container {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            Retour √† l'accueil
        </a>
        
        <a href="login.html" style="position: fixed; top: 40px; right: 40px; display: inline-flex; align-items: center; gap: 8px; background: rgba(255,255,255,0.95); color: #2a2a2a; text-decoration: none; padding: 12px 24px; border-radius: 12px; font-weight: 600; font-size: 14px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s; z-index: 1000;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4M10 17l5-5-5-5M13.8 12H3"/>
            </svg>
            Se connecter
        </a>

        <header>
            <h1>NOS IMPRIMANTES</h1>
            <div class="subtitle">TECHNOLOGIE DE POINTE POUR VOS PROJETS</div>
        </header>

        <!-- Onglets de s√©lection -->
        <div class="tabs-container">
            <div class="tabs">
                <button class="tab-btn active" data-printer="ultimaker">
                    <div class="tab-content">
                        <div class="tab-header">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2"/>
                                <path d="M9 9h6v6H9z"/>
                            </svg>
                            <span>Ultimaker 2+</span>
                        </div>
                        <div class="tab-badge">Design ferm√© ‚Ä¢ Professionnel</div>
                    </div>
                </button>
                <button class="tab-btn" data-printer="geeetech">
                    <div class="tab-content">
                        <div class="tab-header">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="8" cy="12" r="2"/>
                                <circle cx="16" cy="12" r="2"/>
                                <circle cx="12" cy="12" r="2"/>
                            </svg>
                            <span>Geeetech A20T</span>
                        </div>
                        <div class="tab-badge">3 extrudeurs ‚Ä¢ Multi-couleur</div>
                    </div>
                </button>
            </div>
        </div>

        <!-- Contenu des imprimantes -->
        <div class="printer-content">
            <!-- ULTIMAKER 2+ -->
            <div class="printer-panel active" id="ultimaker-panel">
            <div class="printer-card">
                <div class="printer-header">
                    <h2>ULTIMAKER 2+</h2>
                    <div class="model">Imprimante 3D professionnelle</div>
                </div>

                <div class="canvas-container">
                    <canvas id="ultimaker-canvas"></canvas>
                    <div class="canvas-hint">üñ±Ô∏è Glissez pour faire pivoter</div>
                </div>

                <div class="specs">
                    <div class="spec-item">
                        <div class="label">Volume d'impression</div>
                        <div class="value">223 √ó 223 √ó 205 mm</div>
                    </div>
                    <div class="spec-item">
                        <div class="label">Diam√®tre buse</div>
                        <div class="value">0.4 mm (0.25-0.8 mm)</div>
                    </div>
                    <div class="spec-item">
                        <div class="label">√âpaisseur de couche</div>
                        <div class="value">0.02 - 0.6 mm</div>
                    </div>
                    <div class="spec-item">
                        <div class="label">Vitesse d'impression</div>
                        <div class="value">24 mm¬≥/s</div>
                    </div>
                    <div class="spec-item">
                        <div class="label">Temp√©rature max</div>
                        <div class="value">260¬∞C</div>
                    </div>
                    <div class="spec-item">
                        <div class="label">Pr√©cision XYZ</div>
                        <div class="value">12.5, 12.5, 5 microns</div>
                    </div>
                </div>

                <div class="features">
                    <h3>Caract√©ristiques principales</h3>
                    <ul>
                        <li>Extrusion directe fiable</li>
                        <li>Plateau chauffant jusqu'√† 100¬∞C</li>
                        <li>√âcran tactile couleur</li>
                        <li>D√©tection automatique du mat√©riau</li>
                        <li>Connectivit√© USB et carte SD</li>
                        <li>Compatible PLA, ABS, CPE, Nylon</li>
                        <li>Syst√®me de refroidissement optimis√©</li>
                        <li>Calibration automatique du plateau</li>
                    </ul>
                </div>
            </div>
            </div>

            <!-- GEEETECH A20T -->
            <div class="printer-panel" id="geeetech-panel">
            <div class="printer-card">
                <div class="printer-header">
                    <h2>GEEETECH A20T</h2>
                    <div class="model">Imprimante 3D tri-couleur</div>
                </div>

                <div class="canvas-container">
                    <canvas id="geeetech-canvas"></canvas>
                    <div class="canvas-hint">üñ±Ô∏è Glissez pour faire pivoter</div>
                </div>

                <div class="specs">
                    <div class="spec-item">
                        <div class="label">Volume d'impression</div>
                        <div class="value">250 √ó 250 √ó 250 mm</div>
                    </div>
                    <div class="spec-item">
                        <div class="label">Diam√®tre buse</div>
                        <div class="value">0.4 mm</div>
                    </div>
                    <div class="spec-item">
                        <div class="label">√âpaisseur de couche</div>
                        <div class="value">0.1 - 0.4 mm</div>
                    </div>
                    <div class="spec-item">
                        <div class="label">Vitesse d'impression</div>
                        <div class="value">60 mm/s</div>
                    </div>
                    <div class="spec-item">
                        <div class="label">Temp√©rature max</div>
                        <div class="value">250¬∞C</div>
                    </div>
                    <div class="spec-item">
                        <div class="label">Extrudeurs</div>
                        <div class="value">3 extrudeurs</div>
                    </div>
                </div>

                <div class="features">
                    <h3>Caract√©ristiques principales</h3>
                    <ul>
                        <li>Syst√®me d'extrusion 3-en-1</li>
                        <li>Impression multi-couleur</li>
                        <li>Plateau chauffant jusqu'√† 80¬∞C</li>
                        <li>√âcran tactile 3.5 pouces</li>
                        <li>Reprise d'impression apr√®s coupure</li>
                        <li>D√©tection de fin de filament</li>
                        <li>Compatible PLA, ABS, TPU, Wood</li>
                        <li>Structure robuste en aluminium</li>
                    </ul>
                </div>
            </div>
            </div>
        </div>
    </div>

    <footer style="text-align: center; padding: 40px 20px; color: rgba(255,255,255,0.6); font-size: 14px;">
        <a href="sitemap.html" style="color: rgba(255,255,255,0.8); text-decoration: none; font-weight: 600;">
            üìç Plan du site
        </a>
        <p style="margin-top: 10px;">¬© 2026 SGI3D - Syst√®me de Gestion d'Imprimantes 3D</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Fonction pour cr√©er une imprimante 3D g√©n√©rique
        function createPrinter(scene, type) {
            const printerGroup = new THREE.Group();

            if (type === 'ultimaker') {
                // ========== ULTIMAKER 2+ - Design ferm√© avec bo√Ætier ==========
                
                // Base massive
                const baseGeometry = new THREE.BoxGeometry(4.5, 0.8, 4.5);
                const baseMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x0d0d0d,
                    metalness: 0.8,
                    roughness: 0.2
                });
                const base = new THREE.Mesh(baseGeometry, baseMaterial);
                base.position.y = 0.4;
                base.castShadow = true;
                printerGroup.add(base);

                // Pieds
                const footGeometry = new THREE.BoxGeometry(0.6, 0.4, 0.6);
                const footMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x1a1a1a,
                    metalness: 0.7,
                    roughness: 0.3
                });
                const footPositions = [
                    [-1.8, 0.2, -1.8],
                    [1.8, 0.2, -1.8],
                    [-1.8, 0.2, 1.8],
                    [1.8, 0.2, 1.8]
                ];
                footPositions.forEach(pos => {
                    const foot = new THREE.Mesh(footGeometry, footMaterial);
                    foot.position.set(pos[0], pos[1], pos[2]);
                    foot.castShadow = true;
                    printerGroup.add(foot);
                });

                // Bo√Ætier principal FERM√â (caract√©ristique Ultimaker)
                const bodyGeometry = new THREE.BoxGeometry(3.8, 5.5, 3.8);
                const bodyMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x1f1f1f,
                    metalness: 0.6,
                    roughness: 0.4
                });
                const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
                body.position.y = 3.55;
                body.castShadow = true;
                printerGroup.add(body);

                // Panneaux lat√©raux gris clair (design Ultimaker)
                const panelGeometry = new THREE.BoxGeometry(0.1, 5, 3.4);
                const panelMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x3d3d3d,
                    metalness: 0.4,
                    roughness: 0.6
                });
                const panel1 = new THREE.Mesh(panelGeometry, panelMaterial);
                panel1.position.set(-1.95, 3.3, 0);
                printerGroup.add(panel1);
                
                const panel2 = new THREE.Mesh(panelGeometry, panelMaterial);
                panel2.position.set(1.95, 3.3, 0);
                printerGroup.add(panel2);

                // Porte avant avec fen√™tre (design Ultimaker caract√©ristique)
                const doorFrameGeometry = new THREE.BoxGeometry(3.4, 5, 0.15);
                const doorFrameMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x2a2a2a,
                    metalness: 0.7,
                    roughness: 0.3
                });
                const doorFrame = new THREE.Mesh(doorFrameGeometry, doorFrameMaterial);
                doorFrame.position.set(0, 3.3, 1.93);
                printerGroup.add(doorFrame);

                // Fen√™tre transparente
                const windowGeometry = new THREE.BoxGeometry(2.8, 4.2, 0.08);
                const windowMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x555555,
                    metalness: 0.95,
                    roughness: 0.05,
                    transparent: true,
                    opacity: 0.2
                });
                const window = new THREE.Mesh(windowGeometry, windowMaterial);
                window.position.set(0, 3.3, 1.98);
                printerGroup.add(window);

                // Plateau d'impression en verre
                const bedGeometry = new THREE.BoxGeometry(3.2, 0.12, 3.2);
                const bedMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x5a5a5a,
                    metalness: 0.7,
                    roughness: 0.3
                });
                const bed = new THREE.Mesh(bedGeometry, bedMaterial);
                bed.position.y = 1.8;
                bed.castShadow = true;
                printerGroup.add(bed);

                // Rail Z arri√®re unique (caract√©ristique Ultimaker)
                const railGeometry = new THREE.CylinderGeometry(0.18, 0.18, 4.8, 16);
                const railMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x707070,
                    metalness: 0.95,
                    roughness: 0.05
                });
                const rail1 = new THREE.Mesh(railGeometry, railMaterial);
                rail1.position.set(-1.4, 3.7, -1.6);
                printerGroup.add(rail1);

                const rail2 = new THREE.Mesh(railGeometry, railMaterial);
                rail2.position.set(1.4, 3.7, -1.6);
                printerGroup.add(rail2);

                // Portique mobile
                const gantrylGeometry = new THREE.BoxGeometry(3.6, 0.25, 0.25);
                const gantryMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x3a3a3a,
                    metalness: 0.8,
                    roughness: 0.2
                });
                const gantry = new THREE.Mesh(gantrylGeometry, gantryMaterial);
                gantry.position.set(0, 4.5, -1.6);
                printerGroup.add(gantry);

                // T√™te d'impression Ultimaker (compacte)
                const headGeometry = new THREE.BoxGeometry(0.7, 0.9, 0.7);
                const headMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x2a2a2a,
                    metalness: 0.7,
                    roughness: 0.3
                });
                const head = new THREE.Mesh(headGeometry, headMaterial);
                head.position.set(0, 4, 0);
                head.castShadow = true;
                printerGroup.add(head);

                // Ventilateur de refroidissement
                const fanGeometry = new THREE.BoxGeometry(0.5, 0.5, 0.15);
                const fanMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x1a1a1a,
                    metalness: 0.5,
                    roughness: 0.5
                });
                const fan = new THREE.Mesh(fanGeometry, fanMaterial);
                fan.position.set(0, 4, 0.5);
                printerGroup.add(fan);

                // Buse
                const nozzleGeometry = new THREE.ConeGeometry(0.15, 0.35, 16);
                const nozzleMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0xd0d0d0,
                    metalness: 0.95,
                    roughness: 0.05,
                    emissive: 0xff3300,
                    emissiveIntensity: 0.4
                });
                const nozzle = new THREE.Mesh(nozzleGeometry, nozzleMaterial);
                nozzle.position.set(0, 3.45, 0);
                printerGroup.add(nozzle);

                // Logo Ultimaker (bleu caract√©ristique)
                const logoGeometry = new THREE.BoxGeometry(1, 0.35, 0.08);
                const logoMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x0099dd,
                    emissive: 0x0099dd,
                    emissiveIntensity: 0.5
                });
                const logo = new THREE.Mesh(logoGeometry, logoMaterial);
                logo.position.set(0, 6.2, 1.93);
                printerGroup.add(logo);

                // Support de bobine int√©gr√© sur le dessus
                const spoolHolderGeometry = new THREE.CylinderGeometry(0.1, 0.1, 1.5, 16);
                const spoolHolder = new THREE.Mesh(spoolHolderGeometry, railMaterial);
                spoolHolder.position.set(0, 7, 0);
                printerGroup.add(spoolHolder);

                // Bobine sur le dessus
                const spoolGeometry = new THREE.TorusGeometry(0.5, 0.2, 16, 32);
                const spoolMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x555555,
                    metalness: 0.3,
                    roughness: 0.7
                });
                const spool = new THREE.Mesh(spoolGeometry, spoolMaterial);
                spool.position.set(0, 7, 0);
                spool.rotation.x = Math.PI / 2;
                spool.castShadow = true;
                printerGroup.add(spool);

            } else if (type === 'geeetech') {
                // ========== GEEETECH A20T - Structure OUVERTE avec 3 extrudeurs ==========
                
                // Base large et solide
                const baseGeometry = new THREE.BoxGeometry(5.5, 0.6, 5);
                const baseMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x0d0d0d,
                    metalness: 0.6,
                    roughness: 0.4
                });
                const base = new THREE.Mesh(baseGeometry, baseMaterial);
                base.position.y = 0.3;
                base.castShadow = true;
                printerGroup.add(base);

                // Plaques de renfort sur la base
                const reinforcementGeometry = new THREE.BoxGeometry(5.2, 0.1, 0.4);
                const reinforcementMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x2a2a2a,
                    metalness: 0.7,
                    roughness: 0.3
                });
                const reinforcement1 = new THREE.Mesh(reinforcementGeometry, reinforcementMaterial);
                reinforcement1.position.set(0, 0.65, -2.3);
                printerGroup.add(reinforcement1);

                const reinforcement2 = new THREE.Mesh(reinforcementGeometry, reinforcementMaterial);
                reinforcement2.position.set(0, 0.65, 2.3);
                printerGroup.add(reinforcement2);

                // 4 colonnes VISIBLES du cadre (structure ouverte)
                const columnGeometry = new THREE.BoxGeometry(0.25, 6.5, 0.25);
                const columnMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x3a3a3a,
                    metalness: 0.85,
                    roughness: 0.15
                });

                const columnPositions = [
                    [-2.5, 3.85, -2.2],
                    [2.5, 3.85, -2.2],
                    [-2.5, 3.85, 2.2],
                    [2.5, 3.85, 2.2]
                ];

                columnPositions.forEach(pos => {
                    const column = new THREE.Mesh(columnGeometry, columnMaterial);
                    column.position.set(pos[0], pos[1], pos[2]);
                    column.castShadow = true;
                    printerGroup.add(column);
                });

                // Cadre sup√©rieur
                const topFrameGeometry = new THREE.BoxGeometry(5.5, 0.25, 5);
                const topFrame = new THREE.Mesh(topFrameGeometry, columnMaterial);
                topFrame.position.y = 7.1;
                topFrame.castShadow = true;
                printerGroup.add(topFrame);

                // Barres de renfort sup√©rieures
                const topBarGeometry = new THREE.BoxGeometry(5.2, 0.15, 0.15);
                const topBar1 = new THREE.Mesh(topBarGeometry, columnMaterial);
                topBar1.position.set(0, 6.9, 0);
                printerGroup.add(topBar1);

                // Plateau d'impression GRAND (250x250)
                const bedGeometry = new THREE.BoxGeometry(4.2, 0.25, 4.2);
                const bedMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x4a4a4a,
                    metalness: 0.6,
                    roughness: 0.4
                });
                const bed = new THREE.Mesh(bedGeometry, bedMaterial);
                bed.position.y = 1.8;
                bed.castShadow = true;
                printerGroup.add(bed);

                // Grille sur le plateau
                const gridGeometry = new THREE.PlaneGeometry(4, 4);
                const gridMaterial = new THREE.MeshBasicMaterial({ 
                    color: 0x666666,
                    wireframe: true,
                    transparent: true,
                    opacity: 0.3
                });
                const grid = new THREE.Mesh(gridGeometry, gridMaterial);
                grid.rotation.x = -Math.PI / 2;
                grid.position.y = 1.93;
                printerGroup.add(grid);

                // Support du plateau (vis trap√©zo√Ødales visibles)
                const supportGeometry = new THREE.CylinderGeometry(0.12, 0.12, 1.4, 16);
                const supportMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x5a5a5a,
                    metalness: 0.9,
                    roughness: 0.1
                });

                const supportPositions = [
                    [-1.8, 1.1, -1.8],
                    [1.8, 1.1, -1.8],
                    [-1.8, 1.1, 1.8],
                    [1.8, 1.1, 1.8]
                ];

                supportPositions.forEach(pos => {
                    const support = new THREE.Mesh(supportGeometry, supportMaterial);
                    support.position.set(pos[0], pos[1], pos[2]);
                    support.castShadow = true;
                    printerGroup.add(support);
                });

                // Rails X (doubles)
                const railGeometry = new THREE.BoxGeometry(5, 0.12, 0.12);
                const railMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x6a6a6a,
                    metalness: 0.95,
                    roughness: 0.05
                });
                
                const rail1 = new THREE.Mesh(railGeometry, railMaterial);
                rail1.position.set(0, 6.6, -2.1);
                printerGroup.add(rail1);

                const rail2 = new THREE.Mesh(railGeometry, railMaterial);
                rail2.position.set(0, 6.6, 2.1);
                printerGroup.add(rail2);

                // Chariot principal LARGE
                const carriageGeometry = new THREE.BoxGeometry(2.5, 0.5, 1);
                const carriageMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x1a1a1a,
                    metalness: 0.7,
                    roughness: 0.3
                });
                const carriage = new THREE.Mesh(carriageGeometry, carriageMaterial);
                carriage.position.set(0, 6.2, 0);
                carriage.castShadow = true;
                printerGroup.add(carriage);

                // === 3 EXTRUDEURS (caract√©ristique principale A20T) ===
                const extruderGeometry = new THREE.BoxGeometry(0.5, 0.7, 0.6);
                const extruderMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x2a2a2a,
                    metalness: 0.6,
                    roughness: 0.4
                });

                const extruderColors = [
                    { color: 0xff0000, emissive: 0xff0000 }, // Rouge
                    { color: 0x00ff00, emissive: 0x00ff00 }, // Vert
                    { color: 0x0000ff, emissive: 0x0000ff }  // Bleu
                ];
                
                for (let i = 0; i < 3; i++) {
                    // Corps de l'extrudeur
                    const extruder = new THREE.Mesh(extruderGeometry, extruderMaterial);
                    extruder.position.set(-0.8 + i * 0.8, 5.5, 0);
                    extruder.castShadow = true;
                    printerGroup.add(extruder);

                    // Buse pour chaque extrudeur
                    const nozzleGeometry = new THREE.ConeGeometry(0.1, 0.25, 16);
                    const nozzleMaterial = new THREE.MeshStandardMaterial({ 
                        color: 0xc0c0c0,
                        metalness: 0.95,
                        roughness: 0.05
                    });
                    const nozzle = new THREE.Mesh(nozzleGeometry, nozzleMaterial);
                    nozzle.position.set(-0.8 + i * 0.8, 5.1, 0);
                    printerGroup.add(nozzle);

                    // LED color√©e GRANDE pour chaque extrudeur
                    const ledGeometry = new THREE.SphereGeometry(0.08, 16, 16);
                    const ledMaterial = new THREE.MeshStandardMaterial({ 
                        color: extruderColors[i].color,
                        emissive: extruderColors[i].emissive,
                        emissiveIntensity: 1
                    });
                    const led = new THREE.Mesh(ledGeometry, ledMaterial);
                    led.position.set(-0.8 + i * 0.8, 5.85, 0.35);
                    printerGroup.add(led);

                    // √âtiquette num√©ro pour chaque extrudeur
                    const labelGeometry = new THREE.PlaneGeometry(0.2, 0.2);
                    const labelMaterial = new THREE.MeshStandardMaterial({ 
                        color: extruderColors[i].color,
                        emissive: extruderColors[i].emissive,
                        emissiveIntensity: 0.5
                    });
                    const label = new THREE.Mesh(labelGeometry, labelMaterial);
                    label.position.set(-0.8 + i * 0.8, 5.5, 0.35);
                    printerGroup.add(label);
                }

                // Ventilateur de refroidissement entre les extrudeurs
                const fanGeometry = new THREE.BoxGeometry(0.4, 0.4, 0.15);
                const fanMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x1a1a1a,
                    metalness: 0.5,
                    roughness: 0.5
                });
                const fan = new THREE.Mesh(fanGeometry, fanMaterial);
                fan.position.set(0, 5.3, 0.4);
                printerGroup.add(fan);

                // √âcran LCD sur le c√¥t√©
                const screenBaseGeometry = new THREE.BoxGeometry(1.5, 1, 0.2);
                const screenBaseMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x1a1a1a,
                    metalness: 0.5,
                    roughness: 0.5
                });
                const screenBase = new THREE.Mesh(screenBaseGeometry, screenBaseMaterial);
                screenBase.position.set(2.3, 2.5, -2.35);
                screenBase.rotation.y = -Math.PI / 6;
                screenBase.castShadow = true;
                printerGroup.add(screenBase);

                // √âcran LCD actif
                const screenGeometry = new THREE.BoxGeometry(1.3, 0.8, 0.05);
                const screenMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x000000,
                    emissive: 0x00ff88,
                    emissiveIntensity: 0.4
                });
                const screen = new THREE.Mesh(screenGeometry, screenMaterial);
                screen.position.set(2.35, 2.5, -2.3);
                screen.rotation.y = -Math.PI / 6;
                printerGroup.add(screen);

                // Boutons de contr√¥le
                for (let i = 0; i < 4; i++) {
                    const buttonGeometry = new THREE.CylinderGeometry(0.06, 0.06, 0.05, 16);
                    const buttonMaterial = new THREE.MeshStandardMaterial({ 
                        color: i === 0 ? 0xff3333 : 0x333333,
                        emissive: i === 0 ? 0xff0000 : 0x000000,
                        emissiveIntensity: i === 0 ? 0.3 : 0
                    });
                    const button = new THREE.Mesh(buttonGeometry, buttonMaterial);
                    button.position.set(2.2 + (i % 2) * 0.2, 1.8 + Math.floor(i / 2) * 0.2, -2.45);
                    button.rotation.x = Math.PI / 2;
                    button.rotation.z = -Math.PI / 6;
                    printerGroup.add(button);
                }

                // Support de bobine lat√©ral (sur le c√¥t√©)
                const spoolHolderGeometry = new THREE.CylinderGeometry(0.1, 0.1, 3, 16);
                const spoolHolderMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x5a5a5a,
                    metalness: 0.9,
                    roughness: 0.1
                });
                const spoolHolder = new THREE.Mesh(spoolHolderGeometry, spoolHolderMaterial);
                spoolHolder.position.set(-3.5, 5.5, 0);
                spoolHolder.rotation.z = Math.PI / 2;
                printerGroup.add(spoolHolder);

                // Bobine de filament
                const spoolGeometry = new THREE.TorusGeometry(0.7, 0.3, 16, 32);
                const spoolMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0x6a6a6a,
                    metalness: 0.3,
                    roughness: 0.7
                });
                const spool = new THREE.Mesh(spoolGeometry, spoolMaterial);
                spool.position.set(-4.2, 5.5, 0);
                spool.rotation.y = Math.PI / 2;
                spool.castShadow = true;
                printerGroup.add(spool);

                // Filament visible qui va vers les extrudeurs
                const filamentCurve = new THREE.QuadraticBezierCurve3(
                    new THREE.Vector3(-3.8, 5.5, 0),
                    new THREE.Vector3(-2, 6.5, 0),
                    new THREE.Vector3(0, 6, 0)
                );
                const filamentPoints = filamentCurve.getPoints(50);
                const filamentGeometry = new THREE.BufferGeometry().setFromPoints(filamentPoints);
                const filamentMaterial = new THREE.LineBasicMaterial({ 
                    color: 0x888888,
                    linewidth: 2
                });
                const filament = new THREE.Line(filamentGeometry, filamentMaterial);
                printerGroup.add(filament);

                // Logo Geeetech
                const logoGeometry = new THREE.BoxGeometry(1.2, 0.25, 0.08);
                const logoMaterial = new THREE.MeshStandardMaterial({ 
                    color: 0xff6600,
                    emissive: 0xff6600,
                    emissiveIntensity: 0.3
                });
                const logo = new THREE.Mesh(logoGeometry, logoMaterial);
                logo.position.set(0, 0.85, -2.55);
                printerGroup.add(logo);
            }

            scene.add(printerGroup);
            return printerGroup;
        }
        // Stocker les sc√®nes et renderers
        const scenes = {};

        // Fonction pour initialiser une sc√®ne
        function setupScene(canvasId, printerType) {
            console.log('Setting up scene for:', canvasId, printerType);
            
            const canvas = document.getElementById(canvasId);
            if (!canvas) {
                console.error('Canvas not found:', canvasId);
                return;
            }

            // Attendre que le canvas soit visible et ait des dimensions
            const width = canvas.clientWidth || canvas.offsetWidth || 800;
            const height = canvas.clientHeight || canvas.offsetHeight || 400;
            
            console.log('Canvas dimensions:', width, 'x', height);

            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0x2a2a2a);

            const camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);
            camera.position.set(8, 5, 10);
            camera.lookAt(0, 3, 0);

            const renderer = new THREE.WebGLRenderer({ 
                canvas: canvas, 
                antialias: true 
            });
            renderer.setSize(width, height);
            renderer.shadowMap.enabled = true;

            console.log('Renderer created');

            // Lumi√®res
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(5, 10, 7);
            directionalLight.castShadow = true;
            scene.add(directionalLight);

            const directionalLight2 = new THREE.DirectionalLight(0xaaaaaa, 0.4);
            directionalLight2.position.set(-5, 5, -5);
            scene.add(directionalLight2);

            // Sol
            const floorGeometry = new THREE.PlaneGeometry(20, 20);
            const floorMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x1a1a1a,
                metalness: 0.3,
                roughness: 0.8
            });
            const floor = new THREE.Mesh(floorGeometry, floorMaterial);
            floor.rotation.x = -Math.PI / 2;
            floor.receiveShadow = true;
            scene.add(floor);

            // Grille
            const gridHelper = new THREE.GridHelper(20, 20, 0x333333, 0x222222);
            scene.add(gridHelper);

            console.log('Creating printer model...');
            
            // Cr√©er l'imprimante
            const printer = createPrinter(scene, printerType);
            
            console.log('Printer created, children count:', printer.children.length);

            // Animation
            let mouseX = 0;
            let mouseY = 0;
            let targetRotationX = 0;
            let targetRotationY = 0;
            let time = 0;

            canvas.addEventListener('mousemove', (event) => {
                const rect = canvas.getBoundingClientRect();
                mouseX = ((event.clientX - rect.left) / rect.width) * 2 - 1;
                mouseY = -((event.clientY - rect.top) / rect.height) * 2 + 1;
                
                targetRotationY = mouseX * 0.5;
                targetRotationX = mouseY * 0.3;
            });

            function animate() {
                requestAnimationFrame(animate);
                time += 0.01;

                printer.rotation.y += (targetRotationY - printer.rotation.y) * 0.05;
                printer.rotation.x += (targetRotationX - printer.rotation.x) * 0.05;
                printer.rotation.y += 0.002;

                camera.position.y = 5 + Math.sin(time * 0.3) * 0.3;

                renderer.render(scene, camera);
            }

            console.log('Starting animation...');
            animate();

            // Responsive
            const resizeObserver = new ResizeObserver(() => {
                const width = canvas.clientWidth;
                const height = canvas.clientHeight;
                if (width > 0 && height > 0) {
                    renderer.setSize(width, height);
                    camera.aspect = width / height;
                    camera.updateProjectionMatrix();
                }
            });
            resizeObserver.observe(canvas);

            // Stocker la sc√®ne
            scenes[canvasId] = { scene, camera, renderer, printer };
            
            console.log('Scene setup complete for:', canvasId);
        }

        // Attendre que Three.js soit charg√©
        if (typeof THREE === 'undefined') {
            console.error('THREE.js not loaded!');
        } else {
            console.log('THREE.js loaded successfully');
        }

        // Initialiser seulement la premi√®re sc√®ne au chargement
        window.addEventListener('load', () => {
            setTimeout(() => {
                console.log('Page loaded, initializing Ultimaker scene...');
                setupScene('ultimaker-canvas', 'ultimaker');
            }, 200);
        });

        // Gestion des onglets
        const tabButtons = document.querySelectorAll('.tab-btn');
        const printerPanels = document.querySelectorAll('.printer-panel');

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const printerType = button.getAttribute('data-printer');
                const canvasId = `${printerType}-canvas`;
                
                console.log('Tab clicked:', printerType);
                
                // Retirer la classe active de tous les boutons
                tabButtons.forEach(btn => btn.classList.remove('active'));
                
                // Ajouter la classe active au bouton cliqu√©
                button.classList.add('active');
                
                // Cacher tous les panneaux
                printerPanels.forEach(panel => panel.classList.remove('active'));
                
                // Afficher le panneau correspondant
                const targetPanel = document.getElementById(`${printerType}-panel`);
                if (targetPanel) {
                    targetPanel.classList.add('active');
                    
                    // Attendre que le DOM se mette √† jour avant d'initialiser la sc√®ne
                    setTimeout(() => {
                        // Initialiser la sc√®ne si elle n'existe pas encore
                        if (!scenes[canvasId]) {
                            console.log('Initializing new scene for:', canvasId);
                            setupScene(canvasId, printerType);
                        } else {
                            // Forcer le re-render de la sc√®ne existante
                            console.log('Re-rendering existing scene for:', canvasId);
                            const sceneData = scenes[canvasId];
                            const canvas = document.getElementById(canvasId);
                            if (canvas && sceneData) {
                                const width = canvas.clientWidth || canvas.offsetWidth;
                                const height = canvas.clientHeight || canvas.offsetHeight;
                                console.log('Canvas dimensions on tab switch:', width, 'x', height);
                                if (width > 0 && height > 0) {
                                    sceneData.renderer.setSize(width, height);
                                    sceneData.camera.aspect = width / height;
                                    sceneData.camera.updateProjectionMatrix();
                                    sceneData.renderer.render(sceneData.scene, sceneData.camera);
                                }
                            }
                        }
                    }, 150);
                }
            });
        });
    </script>
</body>
</html>